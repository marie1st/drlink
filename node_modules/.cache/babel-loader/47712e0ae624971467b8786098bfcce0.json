{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mariebouquin/doctor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _asyncToGenerator from\"/Users/mariebouquin/doctor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mariebouquin/doctor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import styles from'./AllList.module.css';import{makeStyles,useTheme}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TablePagination from'@material-ui/core/TablePagination';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{Dateformat}from'../../../dateformat';import{Link}from'react-router-dom';import axios from'axios';//import { SearchBox } from '../../../../../src/components/Input/SearchBox'\n//import { Calendar } from '../../../../../src/components/Input/Calendar'\n/**\n * Define each field of headers\n */var useStyles=makeStyles({table:{minWidth:650}});export var AllList=function AllList(){var Spacer=require('react-spacer');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],SetRows=_useState2[1];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(5),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var classes=useStyles();function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.get(\"http://localhost:3000/users/\").then(function(response){console.log(\"response: \",response.data);SetRows(response.data);// do something about response\n}).catch(function(err){console.error(err);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}useEffect(function(){fetchData();},[]);var emptyRows=rowsPerPage-Math.min(rowsPerPage,rows.length-page*rowsPerPage);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};var useStyles1=makeStyles(function(theme){return{root:{flexShrink:0,marginLeft:theme.spacing(2.5)}};});function TablePaginationActions(props){var classes=useStyles1();var theme=useTheme();var count=props.count,page=props.page,rowsPerPage=props.rowsPerPage,onChangePage=props.onChangePage;var handleFirstPageButtonClick=function handleFirstPageButtonClick(event){onChangePage(event,0);};var handleBackButtonClick=function handleBackButtonClick(event){onChangePage(event,page-1);};var handleNextButtonClick=function handleNextButtonClick(event){onChangePage(event,page+1);};var handleLastPageButtonClick=function handleLastPageButtonClick(event){onChangePage(event,Math.max(0,Math.ceil(count/rowsPerPage)-1));};}return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.wrapperHeader),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.wrapperHeaderContent,\" font-xl weight-md\"),children:[\"\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\\u0E23\\u0E32\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E31\\u0E01\\u0E17\\u0E48\\u0E2D\\u0E07\\u0E40\\u0E17\\u0E35\\u0E48\\u0E22\\u0E27\\u0E17\\u0E35\\u0E48\\u0E02\\u0E2D\\u0E17\\u0E33 Health-Evisa\",/*#__PURE__*/_jsx(Spacer,{width:\"24px\"})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E1E\\u0E32\\u0E2A\\u0E1B\\u0E2D\\u0E23\\u0E4C\\u0E15\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row,index){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(Dateformat,{date:row.created_at})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Link,{to:\"lists/\".concat(row.id),children:row.passport_no})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.given_name+\" \"+row.middlename+\" \"+row.lastname}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.health_evisa}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Dateformat,{date:row.health_evisa_date})})]},index);})})]})})]});};","map":{"version":3,"sources":["/Users/mariebouquin/doctor/src/containers/Admin/AllList/AllList.js"],"names":["React","useState","useEffect","styles","makeStyles","useTheme","Table","TableBody","TableCell","TableContainer","TablePagination","TableHead","TableRow","Paper","Dateformat","Link","axios","useStyles","table","minWidth","AllList","Spacer","require","rows","SetRows","page","setPage","rowsPerPage","setRowsPerPage","classes","fetchData","get","then","response","console","log","data","catch","err","error","emptyRows","Math","min","length","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","useStyles1","theme","root","flexShrink","marginLeft","spacing","TablePaginationActions","props","count","onChangePage","handleFirstPageButtonClick","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","max","ceil","wrapperHeader","wrapperHeaderContent","map","row","index","created_at","id","passport_no","given_name","middlename","lastname","health_evisa","health_evisa_date"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport styles from './AllList.module.css'\nimport { makeStyles, useTheme} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {Dateformat } from '../../../dateformat';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n//import { SearchBox } from '../../../../../src/components/Input/SearchBox'\n//import { Calendar } from '../../../../../src/components/Input/Calendar'\n\n\n/**\n * Define each field of headers\n */\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport const AllList = () => {\n  const Spacer = require('react-spacer');\n  const [rows, SetRows] = useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const classes = useStyles();\n\nasync function fetchData() {\n  axios\n    .get(\"http://localhost:3000/users/\")\n    .then(response => {\n      console.log(\"response: \", response.data);\n      SetRows(response.data);\n      // do something about response\n    })\n    .catch(err => {\n      console.error(err)\n    });\n}\nuseEffect(() =>{\n    fetchData();\n}, [])\n\nconst emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const useStyles1 = makeStyles((theme) => ({\n    root: {\n      flexShrink: 0,\n      marginLeft: theme.spacing(2.5),\n    },\n  }));\n\n  function TablePaginationActions(props) {\n    const classes = useStyles1();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n  \n    const handleFirstPageButtonClick = (event) => {\n      onChangePage(event, 0);\n    };\n  \n    const handleBackButtonClick = (event) => {\n      onChangePage(event, page - 1);\n    };\n  \n    const handleNextButtonClick = (event) => {\n      onChangePage(event, page + 1);\n    };\n  \n    const handleLastPageButtonClick = (event) => {\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n  }\n\n  return (\n        <div className={`${styles.wrapperHeader}`}>\n            <div className={`${styles.wrapperHeaderContent} font-xl weight-md`}>\n              รายงานรายชื่อนักท่องเที่ยวที่ขอทำ Health-Evisa\n              <Spacer width=\"24px\" />\n              \n            </div>\n        \n\n        \n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>วันที่</TableCell>\n            <TableCell align=\"right\">หมายเลขพาสปอร์ต</TableCell>\n            <TableCell align=\"right\">ชื่อ-นามสกุล</TableCell>\n            <TableCell align=\"right\">สถานะ</TableCell>\n            <TableCell align=\"right\">ดูรายละเอียด</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map((row, index) => (\n            <TableRow key={index}>\n              <TableCell component=\"th\" scope=\"row\">\n                <Dateformat date = {row.created_at}/>\n              </TableCell>\n              \n              <TableCell align=\"right\"><Link to ={`lists/${row.id}`}>{row.passport_no}</Link></TableCell>\n              \n              <TableCell align=\"right\">{row.given_name + \" \" + row.middlename + \" \" + row.lastname}</TableCell>\n              <TableCell align=\"right\">{row.health_evisa}</TableCell>\n              <TableCell align=\"right\"><Dateformat date ={row.health_evisa_date} /></TableCell>\n             \n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    \n\n    </div>\n\n  )\n}\n"]},"metadata":{},"sourceType":"module"}